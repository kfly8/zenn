## スカラー型の判別

Perlで単一の値を表すスカラー型は、前章で示した通り文字列、数値、リファレンスなど多態性を持ちます。この多態性によって、数値に対して文字列操作をしたり、一部文字列に対して数値操作を行うこともでき、使い捨てのスクリプトを書くときなど処理は簡便になります。

```shell
# parseIntのようなことをせずとも、与えられた文字列の引数の足し算ができている
% perl -MList::Util=sum -E 'say sum @ARGV' 1 2 3 4 5
15
```

一方で、スカラー型の状態によって行える操作が異なるので注意が必要です。例えば、次のように文字列に対して、ハッシュリファレンスの操作を行えば、ランタイムエラーになります。

```perl
sub hello($args) {
    return "Hello, " . $args->{message};
}

hello("world")
# => Can't use string ("world") as a HASH ref
```

筆者が強くおすすめする対策は、ユニットテストとType::Tinyといった型ライブラリの利用です。詳しくは後述します。

```perl
sub hello($args) {
  assert { $args is Dict[messge => Str] }
  return "Hello, " . $args->{message};
}
```

